(()=>{"use strict";const e=document.querySelector(".upload-file"),t=document.querySelector(".upload-file__input-hidden");t.addEventListener("dragenter",(()=>{e.classList.add("upload-file--active")})),t.addEventListener("focus",(()=>{e.classList.add("upload-file--active")})),t.addEventListener("click",(()=>{e.classList.add("upload-file--active")})),t.addEventListener("dragleave",(()=>{e.classList.remove("upload-file--active")})),t.addEventListener("blur",(()=>{e.classList.remove("upload-file--active")})),t.addEventListener("drop",(()=>{e.classList.remove("upload-file--active")}));const n=document.querySelector(".multi-form"),o=document.querySelector(".multi-form__steps"),i=d(o,"padding-top")+d(o,"padding-bottom"),s=Array.from(o.querySelectorAll(".step")),r=document.querySelector(".progress"),a=document.querySelector(".progress__bar"),c=d(document.documentElement,"--change-step-scroll-up-duration-ms"),l=d(document.documentElement,"--change-step-pause-duration-ms");function d(e,t,n=-2){return+getComputedStyle(e).getPropertyValue(t).trim().slice(0,n)}function u(){return s.map((e=>e.getBoundingClientRect().height))}function h(){return+getComputedStyle(document.querySelector(":root")).getPropertyValue("--step").trim()}function p(){[].forEach.call(document.querySelectorAll("[tabindex]"),(e=>e.setAttribute("tabindex","-1"))),[].forEach.call(document.querySelectorAll(`.step--${h()} [tabindex]`),(e=>e.setAttribute("tabindex","0"))),document.activeElement.blur()}function m(e){const t=h()+e,n=t-1,s=u(),r=s[n]+i,a=d(o,"row-gap"),c=s.reduce(((e,t,o)=>o<n?e+t:e),n*a);document.querySelector(":root").style.setProperty("--step",t),o.style.setProperty("--height",`${r}px`),o.style.setProperty("--step-offset-top",`-${c}px`)}function v(){!function(){const e=a.getBoundingClientRect().width;r.style.setProperty("--width",`${e}px`)}(),function(){let e=!1;const t=o.offsetTop+d(n,"padding-bottom");u().forEach((n=>{t+n>window.innerHeight&&(e=!0)})),e?document.body.classList.add("scrollbar-on"):document.body.classList.remove("scrollbar-on")}(),m(0)}function g(e){!function(e,t=1e3,n=0){const o=document.querySelector(e).getBoundingClientRect().top,i=window.pageYOffset,s=o-n;let r=null;requestAnimationFrame((function e(n){null===r&&(r=n);const o=n-r,a=(c=o,l=i,d=s,(c/=t/2)<1?d/2*c*c+l:-d/2*(--c*(c-2)-1)+l);var c,l,d;window.scrollTo(0,a),o<t&&requestAnimationFrame(e)}))}("#header",c),setTimeout((()=>{m(e),p()}),c+l)}n.addEventListener("click",(e=>{"next"==e.target.dataset.controlButton&&g(1),"back"==e.target.dataset.controlButton&&g(-1)})),document.querySelector(":root").style.setProperty("--step",1),p(),window.addEventListener("load",(()=>v())),window.addEventListener("resize",(()=>v()));class f{constructor(e){this.index=e.index,this.root=document.querySelector(`.step--${this.index}`),this.selector=e.selector,this.targets=[...this.root.querySelectorAll(this.selector)],this.check=e.check,this.validateEvent=e.validateEvent,this.invalidMessage=e.invalidMessage,this.validate(),this.bound()}get button(){return this._button??(this._button=this.root.querySelector('[data-control-button="next"], [data-control-button="finish"]'))}get message(){return this._message??(this._message=this.root.querySelector(".step__message"))}validate(){this.check()?(this.button.disabled=!1,this.message.innerHTML=""):(this.button.disabled=!0,this.message.innerHTML=this.invalidMessage)}bound(){this.targets.forEach((e=>e.addEventListener(this.validateEvent,(()=>this.validate()))))}}new f({index:1,selector:"input[type=radio]",check:function(){return this.targets.some((e=>e.checked))},validateEvent:"change",invalidMessage:"Choose hub"}),new f({index:2,selector:"input[type=checkbox]",check:function(){return this.targets.filter((e=>e.checked)).length>=3},validateEvent:"change",invalidMessage:"Select up to 3 objectives"}),new f({index:5,selector:"input[type=text], textarea",check:function(){return this.targets.every((e=>!(null==e.value||""==e.value.trim())))},validateEvent:"input",invalidMessage:"Fill the fields"});const y=document.querySelector('button[type="submit"]');y.addEventListener("click",(e=>{e.preventDefault(),window.location.assign(y.dataset.href)}))})();